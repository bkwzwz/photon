diff --git a/shell.c b/shell.c
index b7f1b24..d307faf 100644
--- a/shell.c
+++ b/shell.c
@@ -5821,6 +5821,7 @@ static int zipfileUpdate(
 
     if( rc==SQLITE_OK ){
       zPath = (const char*)sqlite3_value_text(apVal[2]);
+      if( zPath==0 ) zPath = "";
       nPath = (int)strlen(zPath);
       mTime = zipfileGetTime(apVal[4]);
     }
